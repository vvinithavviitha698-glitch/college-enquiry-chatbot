from flask import Flask, render_template, request, jsonify
import webbrowser
import threading

app = Flask(__name__)

# Chatbot responses
def chatbot_response(user_msg):
    user_msg = user_msg.lower()

    if "course" in user_msg:
        return "We offer BCA, BSc, BCom, BA and MSc courses."
    elif "fee" in user_msg:
        return "The average fee ranges from ₹7,000 to ₹10,000 for the total duration 3 year."
    elif "admission" in user_msg:
        return "Admissions are based on merit and the college website(gascpldm.ac.in)." 
    elif "contact" in user_msg:
        return "You can contact us at +91 6374772768."
    elif "timing" in user_msg:
        return "College timing is 10 AM to 3 PM."
    else:
        return "Sorry, I didn't understand. Please ask about courses, fees, admission, or contact."

@app.route("/")
def home():
    return render_template("index.html")

@app.route("/get", methods=["POST"])
def get_bot_response():
    user_msg = request.form["msg"]
    return jsonify({"reply": chatbot_response(user_msg)})

# Automatically open browser
def open_browser():
    webbrowser.open_new("http://127.0.0.1:5000")

if __name__ == "__main__":
    threading.Timer(1, open_browser).start()
    app.run(debug=True)